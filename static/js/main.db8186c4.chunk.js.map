{"version":3,"sources":["api/API_DATA.js","components/Comments.jsx","components/User.jsx","components/Post.jsx","components/SelectPost.jsx","components/PostsList.jsx","components/App.jsx","index.js"],"names":["loadPosts","a","fetch","responsePosts","json","posts","loadUsers","responseUsers","users","connect","dispatch","handleDelete","data","type","value","comment","className","console","log","title","onClick","commentId","User","userItem","name","username","email","Post","state","showComment","this","props","post","currentComments","comments","filter","id","to","user","body","tabIndex","role","onKeyDown","setState","map","key","React","Component","SelectPost","errorsMap","handleFormSubmit","event","preventDefault","Object","keys","length","setComment","Date","now","handleChange","target","exact","onSubmit","htmlFor","placeholder","onChange","TodosList","postsWithUsers","find","userId","setData","path","render","match","params","initialState","persistedState","serialaizedState","localStorage","getItem","JSON","parse","e","loadFromLocalStorage","store","createStore","action","subscribe","stringify","setItem","saveToLocalStorage","getState","App","PostsList","ReactDOM","document","getElementById"],"mappings":"qTACaA,EAAS,sCAAG,8BAAAC,EAAA,2DACN,6CADM,SAEKC,MADX,8CADM,cAEjBC,EAFiB,gBAGHA,EAAcC,OAHX,cAGjBC,EAHiB,yBAKhBA,GALgB,yCAAH,qDAQTC,EAAS,sCAAG,8BAAAL,EAAA,2DACN,6CADM,SAEKC,MADX,8CADM,cAEjBK,EAFiB,gBAGHA,EAAcH,OAHX,cAGjBI,EAHiB,yBAKhBA,GALgB,yCAAH,qDCyBPC,cACb,KA/BiB,SAAAC,GAAQ,MAAK,CAC9BC,aAAc,SAAAC,GAAI,OAAIF,EAAS,CAC7BG,KAAM,iBACNC,MAAOF,OA2BIH,CAvBE,SAAC,GAAD,IAAGM,EAAH,EAAGA,QAASJ,EAAZ,EAAYA,aAAZ,OACf,yBAAKK,UAAU,YACb,yCACCC,QAAQC,IAAIH,GACb,uBAAGC,UAAU,WAAWD,EAAQI,OAChC,yBACEH,UAAU,iBACVI,QAAS,kBAAMT,EAAaI,EAAQM,aAEnC,IAJH,aCeWC,EA5BF,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OACX,yBAAKP,UAAU,oBACb,2BACE,mCACC,IACAO,EAASC,MAEZ,2BACE,wCACC,IACAD,EAASE,UAEZ,2BACE,oCACC,IACAF,EAASG,SCPVC,E,2MACJC,MAAQ,CACNC,aAAa,G,wEAGL,IAAD,SACoBC,KAAKC,MAAxBC,EADD,EACCA,KAEFC,EAHC,EACOC,SAGXC,OAAO,SAAApB,GAAO,OAAMA,EAAQqB,KAAQJ,EAAKI,KAE5C,OACE,6BAEE,wBACEpB,UAAU,aAEV,kBAAC,IAAD,CACEA,UAAU,iBACVqB,GAAE,yBAAoBL,EAAKI,KAE3B,kBAAC,EAAD,CAAMb,SAAUS,EAAKM,KAAML,gBAAiBA,IAE5C,uBAAGjB,UAAU,cACX,oCACC,IACAgB,EAAKb,OAGR,uBAAGH,UAAU,aAAagB,EAAKO,OAGjC,yBACEC,SAAU,EACVC,KAAK,SACLC,UAAW,aACX1B,UAAU,gBACVI,QAAS,kBAAM,EAAKuB,SAAS,SAAAf,GAAK,MAAK,CACrCC,aAAcD,EAAMC,iBAGtB,uBAAGb,UAAU,iBACVc,KAAKF,MAAMC,YACR,gBACA,kBAINC,KAAKF,MAAMC,YACPI,EAAgBW,IAAI,SAAA7B,GAAO,OAC3B,kBAAC,EAAD,CAAU8B,IAAK9B,EAAQqB,GAAIrB,QAASA,MACpC,W,GAnDG+B,IAAMC,WAyEVtC,cA7EC,SAAAmB,GAAK,MAAK,CACxBM,SAAUN,EAAMM,WA8EhB,KAFazB,CAGbkB,GCpEIqB,E,2MACJpB,MAAQ,CACNT,MAAO,GACP8B,UAAW,CACT9B,MAAO,K,EAIX+B,iBAAmB,SAACC,GAClBA,EAAMC,iBAEN,IAAMH,EAAY,GAElB,EAAKN,SAAS,SAACf,GAKb,GAJKA,EAAMT,QACT8B,EAAU9B,MAAQ,yBAGhBkC,OAAOC,KAAKL,GAAWM,OAAS,EAClC,MAAO,CAAEN,aAGX,EAAKlB,MAAMyB,WAAW,CACpBpB,GAAI,EAAKL,MAAMK,GACff,UAAWoC,KAAKC,MAChBvC,MAAO,EAAKS,MAAMT,UAItB,EAAKwB,SAAS,CACZxB,MAAO,M,EAIXwC,aAAe,SAACR,GAAW,IAAD,EACxBA,EAAMC,iBADkB,MAGAD,EAAMS,OAAtBpC,EAHgB,EAGhBA,KAAMV,EAHU,EAGVA,MAEd,EAAK6B,UAAL,mBACGnB,EAAOV,GADV,0BAEa,CACTK,MAAO,KAHX,K,wEAQQ,IAAD,EACyBW,KAAKC,MAA7B1B,EADD,EACCA,MAAO+B,EADR,EACQA,GAAIF,EADZ,EACYA,SADZ,EAEsBJ,KAAKF,MAA1BT,EAFD,EAECA,MAAO8B,EAFR,EAEQA,UACThB,EAAkBC,EACrBC,OAAO,SAAApB,GAAO,OAAMA,EAAQqB,KAAQ/B,EAAM+B,EAAK,GAAGA,KAErD,OACE,6BACE,kBAAC,IAAD,CAAMC,GAAG,IAAIwB,OAAK,EAAC7C,UAAU,YAA7B,iBAGA,yBAAKA,UAAU,sBACb,kBAAC,EAAD,CAAMO,SAAUlB,EAAM+B,EAAK,GAAGE,OAC9B,uBAAGtB,UAAU,cACX,oCACC,IACAX,EAAM+B,EAAK,GAAGjB,OAEjB,uBAAGH,UAAU,aAAaX,EAAM+B,EAAK,GAAGG,MAExC,uBACEvB,UAAU,iBAETiB,EAAgBsB,OAChB,IACAtB,EAAgBsB,OAAS,EACtB,UACA,YAGLtB,EAAgBW,IAAI,SAAA7B,GAAO,OAC1B,kBAAC,EAAD,CAAU8B,IAAK9B,EAAQqB,GAAIrB,QAASA,OAIxC,0BACE+C,SAAUhC,KAAKoB,iBACflC,UAAU,QAEV,2BAAO+C,QAAQ,cACb,2BACE/C,UAAU,mBACVF,MAAOK,EACPN,KAAK,OACLW,KAAK,QACLwC,YAAY,gBACZC,SAAUnC,KAAK6B,gBAGnB,yBAAK3C,UAAU,oBACZiC,EAAU9B,OAAU,6BAAM8B,EAAU9B,c,GAjGxB2B,IAAMC,WAsHhBtC,cAlIC,SAAAmB,GAAK,MAAK,CACxBvB,MAAOuB,EAAMvB,MACb6B,SAAUN,EAAMM,WAGC,SAAAxB,GAAQ,MAAK,CAC9B8C,WAAY,SAAA5C,GAAI,OAAIF,EAAS,CAC3BG,KAAM,cACNC,MAAOF,OA0HIH,CAGbuC,G,yjBCnIF,IAWMkB,E,8TAEkB5D,I,cAAdE,E,gBACcR,I,OAAdK,E,OAEA8D,EAAiB9D,EAAMuC,IAAI,SAAAZ,GAAI,YAChCA,EADgC,CAEnCM,KAAM9B,EAAM4D,KAAK,SAAA9B,GAAI,OAAIA,EAAKF,KAAOJ,EAAKqC,aAG5CvC,KAAKC,MAAMuC,QAAQH,G,mIAGX,IACA9D,EAAUyB,KAAKC,MAAf1B,MAER,OACE,6BACE,kBAAC,IAAD,CAASgC,GAAG,IAAIwB,OAAK,IAErB,yBAAK7C,UAAU,OACb,kBAAC,IAAD,CACE6C,OAAK,EACLU,KAAK,IACLC,OAAQ,kBACN,6BACGnE,EAAMuC,IAAI,SAAAZ,GAAI,OACb,6BACE,kBAAC,EAAD,CAAMA,KAAMA,WAOtB,kBAAC,IAAD,CACE6B,OAAK,EACLU,KAAK,sBACLC,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,OAAgBpE,EAEpB,kBAAC,EAAD,CACE+B,GAAIqC,EAAMC,OAAOtC,KAGnB,c,GA5CQU,IAAMC,WA6DftC,cAxEC,SAAAmB,GAAK,MAAK,CACxBvB,MAAOuB,EAAMvB,QAGI,SAAAK,GAAQ,MAAK,CAC9B4D,QAAS,SAAA1D,GAAI,OAAIF,EAAS,CACxBG,KAAM,WACNC,MAAOF,OAiEIH,CAGbyD,G,mjBC/EF,IAAMS,EAAe,CACnBtE,MAAO,GACP6B,SAAU,IAwDN0C,EAduB,WAC3B,IACE,IAAMC,EAAmBC,aAAaC,QAAQ,SAE9C,GAAyB,OAArBF,EAA6B,OAEjC,OAAOG,KAAKC,MAAMJ,GAClB,MAAOK,GAGP,YAFAjE,QAAQC,IAAIgE,IAMOC,GAEjBC,EAAQC,YAvDE,WAAmC,IAAlCzD,EAAiC,uDAAzB+C,EAAcW,EAAW,uCAChD,OAAQA,EAAOzE,MACb,IAAK,WACH,OAAO,KACFe,EADL,CAEEvB,MAAOiF,EAAOxE,QAGlB,IAAK,cACH,OAAO,KACFc,EADL,CAEEM,SAAS,GAAD,mBACHN,EAAMM,UADH,CAENoD,EAAOxE,UAIb,IAAK,iBACH,OAAO,KACFc,EADL,CAEEM,SAAUN,EAAMM,SACbC,OAAO,SAAApB,GAAO,OAAIA,EAAQM,YAAciE,EAAOxE,UAGtD,QACE,OAAOc,IAgCXgD,GAGFQ,EAAMG,UAAU,kBA/BW,SAAC3D,GAC1B,IACE,IAAMiD,EAAmBG,KAAKQ,UAAU5D,GAExCkD,aAAaW,QAAQ,QAASZ,GAC9B,MAAOK,GACPjE,QAAQC,IAAIgE,IAyBMQ,CAAmBN,EAAMO,cAE/C,IAMeC,EANH,kBACV,kBAAC,IAAD,CAAUR,MAAOA,GACf,kBAACS,EAAD,QCrEJC,IAAStB,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,OAEFuB,SAASC,eAAe,W","file":"static/js/main.db8186c4.chunk.js","sourcesContent":["\nexport const loadPosts = async() => {\n  const urlPosts = 'https://jsonplaceholder.typicode.com/posts';\n  const responsePosts = await fetch(urlPosts);\n  const posts = await responsePosts.json();\n\n  return posts;\n};\n\nexport const loadUsers = async() => {\n  const urlUsers = 'https://jsonplaceholder.typicode.com/users';\n  const responseUsers = await fetch(urlUsers);\n  const users = await responseUsers.json();\n\n  return users;\n};\n","import { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst getMethods = dispatch => ({\n  handleDelete: data => dispatch({\n    type: 'DELETE_COMMENT',\n    value: data,\n  }),\n});\n\nconst Comments = ({ comment, handleDelete }) => (\n  <div className=\"comments\">\n    <b> Unknown: </b>\n    {console.log(comment)}\n    <p className=\"comment\">{comment.title}</p>\n    <div\n      className=\"delete-comment\"\n      onClick={() => handleDelete(comment.commentId)}\n    >\n      {' '}\n      Delete\n    </div>\n  </div>\n);\n\nComments.propTypes = {\n  handleDelete: PropTypes.func,\n  comment: PropTypes.shape({\n    title: PropTypes.string,\n    commentId: PropTypes.number,\n  }).isRequired,\n};\n\nexport default connect(\n  null,\n  getMethods\n)(Comments);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst User = ({ userItem }) => (\n  <div className=\"user_information\">\n    <p>\n      <b>Name</b>\n      {' '}\n      {userItem.name}\n    </p>\n    <p>\n      <b>Nick name</b>\n      {' '}\n      {userItem.username}\n    </p>\n    <p>\n      <b>Email</b>\n      {' '}\n      {userItem.email}\n    </p>\n  </div>\n);\n\nUser.propTypes = {\n  userItem: PropTypes.shape({\n    name: PropTypes.string,\n    username: PropTypes.string,\n    email: PropTypes.string,\n  }).isRequired,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Comments from './Comments';\nimport User from './User';\n\nconst getData = state => ({\n  comments: state.comments,\n});\n\nclass Post extends React.Component {\n  state = {\n    showComment: false,\n  }\n\n  render() {\n    const { post, comments } = this.props;\n\n    const currentComments = comments\n      .filter(comment => +(comment.id) === post.id);\n\n    return (\n      <div>\n\n        <li\n          className=\"post_list\"\n        >\n          <Link\n            className=\"post_list-link\"\n            to={`/ViewPost/post/${post.id}`}\n          >\n            <User userItem={post.user} currentComments={currentComments} />\n\n            <p className=\"post_title\">\n              <b>Title</b>\n              {' '}\n              {post.title}\n            </p>\n\n            <p className=\"post_body\">{post.body}</p>\n\n          </Link>\n          <div\n            tabIndex={0}\n            role=\"button\"\n            onKeyDown={() => {}}\n            className=\"show_comments\"\n            onClick={() => this.setState(state => ({\n              showComment: !state.showComment,\n            }))}\n          >\n            <p className=\"view-comments\">\n              {this.state.showComment\n                ? 'Hide comments'\n                : 'View comments'}\n            </p>\n          </div>\n          {\n            this.state.showComment\n              ? currentComments.map(comment => (\n                <Comments key={comment.id} comment={comment} />))\n              : null\n          }\n        </li>\n      </div>\n    );\n  }\n}\n\nPost.propTypes = {\n  comments: PropTypes.shape({\n    id: PropTypes.number,\n    title: PropTypes.string,\n    commentId: PropTypes.number,\n  }).isRequired,\n  post: PropTypes.shape({\n    id: PropTypes.number,\n    body: PropTypes.string,\n    title: PropTypes.string,\n    user: PropTypes.string,\n  }).isRequired,\n};\n\nexport default connect(\n  getData,\n  null,\n)(Post);\n","import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport React from 'react';\nimport User from './User';\nimport Comments from './Comments';\n\nconst getData = state => ({\n  posts: state.posts,\n  comments: state.comments,\n});\n\nconst getMethods = dispatch => ({\n  setComment: data => dispatch({\n    type: 'SET_COMMENT',\n    value: data,\n  }),\n});\n\nclass SelectPost extends React.Component {\n  state = {\n    title: '',\n    errorsMap: {\n      title: '',\n    },\n  }\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n\n    const errorsMap = {};\n\n    this.setState((state) => {\n      if (!state.title) {\n        errorsMap.title = 'Enter comment, please';\n      }\n\n      if (Object.keys(errorsMap).length > 0) {\n        return { errorsMap };\n      }\n\n      this.props.setComment({\n        id: this.props.id,\n        commentId: Date.now(),\n        title: this.state.title,\n      });\n    });\n\n    this.setState({\n      title: '',\n    });\n  }\n\n  handleChange = (event) => {\n    event.preventDefault();\n\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value,\n      errorsMap: {\n        title: '',\n      },\n    });\n  }\n\n  render() {\n    const { posts, id, comments } = this.props;\n    const { title, errorsMap } = this.state;\n    const currentComments = comments\n      .filter(comment => +(comment.id) === posts[id - 1].id);\n\n    return (\n      <div>\n        <Link to=\"/\" exact className=\"back-btn\">\n          Back to Posts\n        </Link>\n        <div className=\"selected-post_list\">\n          <User userItem={posts[id - 1].user} />\n          <p className=\"post_title\">\n            <b>Title</b>\n            {' '}\n            {posts[id - 1].title}\n          </p>\n          <p className=\"post_body\">{posts[id - 1].body}</p>\n\n          <p\n            className=\"post_comments\"\n          >\n            {currentComments.length }\n            {' '}\n            {currentComments.length < 2\n              ? 'Comment'\n              : 'Comments'\n            }\n          </p>\n          {currentComments.map(comment => (\n            <Comments key={comment.id} comment={comment} />\n          ))}\n        </div>\n\n        <form\n          onSubmit={this.handleFormSubmit}\n          className=\"form\"\n        >\n          <label htmlFor=\"form-input\">\n            <input\n              className=\"form-field_input\"\n              value={title}\n              type=\"text\"\n              name=\"title\"\n              placeholder=\"Enter comment\"\n              onChange={this.handleChange}\n            />\n          </label>\n          <div className=\"form-field_error\">\n            {errorsMap.title && (<div>{errorsMap.title}</div>)}\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nSelectPost.propTypes = {\n  comments: PropTypes.shape({\n    id: PropTypes.number,\n    title: PropTypes.string,\n    commentId: PropTypes.number,\n  }).isRequired,\n  posts: PropTypes.shape({\n    id: PropTypes.number,\n    title: PropTypes.string,\n    body: PropTypes.string,\n  }).isRequired,\n};\n\nexport default connect(\n  getData,\n  getMethods\n)(SelectPost);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Route, NavLink } from 'react-router-dom';\nimport { loadPosts, loadUsers } from '../api/API_DATA';\nimport Post from './Post';\nimport SelectPost from './SelectPost';\nimport '../style/App.css';\n\nconst getData = state => ({\n  posts: state.posts,\n});\n\nconst getMethods = dispatch => ({\n  setData: data => dispatch({\n    type: 'SET_DATA',\n    value: data,\n  }),\n});\n\nclass TodosList extends React.Component {\n  async componentDidMount() {\n    const users = await loadUsers();\n    const posts = await loadPosts();\n\n    const postsWithUsers = posts.map(post => ({\n      ...post,\n      user: users.find(user => user.id === post.userId),\n    }));\n\n    this.props.setData(postsWithUsers);\n  }\n\n  render() {\n    const { posts } = this.props;\n\n    return (\n      <div>\n        <NavLink to=\"/\" exact />\n\n        <div className=\"App\">\n          <Route\n            exact\n            path=\"/\"\n            render={() => (\n              <div>\n                {posts.map(post => (\n                  <div>\n                    <Post post={post} />\n                  </div>\n                ))}\n              </div>\n            )}\n          />\n\n          <Route\n            exact\n            path=\"/ViewPost/post/:id?\"\n            render={({ match }) => (posts\n              ? (\n                <SelectPost\n                  id={match.params.id}\n                />\n              )\n              : null)\n            }\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nTodosList.propTypes = {\n  posts: PropTypes.shape({\n    id: PropTypes.number,\n    title: PropTypes.string,\n    body: PropTypes.string,\n  }).isRequired,\n};\n\nexport default connect(\n  getData,\n  getMethods\n)(TodosList);\n","import React from 'react';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport PostsList from './PostsList';\n\nconst initialState = {\n  posts: [],\n  comments: [],\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'SET_DATA':\n      return {\n        ...state,\n        posts: action.value,\n      };\n\n    case 'SET_COMMENT':\n      return {\n        ...state,\n        comments: [\n          ...state.comments,\n          action.value,\n        ],\n      };\n\n    case 'DELETE_COMMENT':\n      return {\n        ...state,\n        comments: state.comments\n          .filter(comment => comment.commentId !== action.value),\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst saveToLocalStorage = (state) => {\n  try {\n    const serialaizedState = JSON.stringify(state);\n\n    localStorage.setItem('state', serialaizedState);\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nconst loadFromLocalStorage = () => {\n  try {\n    const serialaizedState = localStorage.getItem('state');\n\n    if (serialaizedState === null) { return undefined; }\n\n    return JSON.parse(serialaizedState);\n  } catch (e) {\n    console.log(e);\n\n    return undefined;\n  }\n};\n\nconst persistedState = loadFromLocalStorage();\n\nconst store = createStore(\n  reducer,\n  persistedState,\n);\n\nstore.subscribe(() => saveToLocalStorage(store.getState()));\n\nconst App = () => (\n  <Provider store={store}>\n    <PostsList />\n  </Provider>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}